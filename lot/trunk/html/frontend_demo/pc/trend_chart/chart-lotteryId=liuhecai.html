<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>六合彩结果走势图</title>
  <link href="style.css" rel="stylesheet" type="text/css">
<body>
<div id="box" class="qc">
  <div class="qc" id="Right">
    <div class="main">
      <div class="main-box">
        <div class="main-nav">
          <div class="cplogo"><img class="cplogo_img" alt="liuhec"><span>六合彩</span></div>
          <div class="czqh">
            <span class="curretSsc">切换彩种</span><span class="xiajian"></span>
            <script src="componets/select.js"></script>
          </div>
          <ul class="btn-navs">
            <li class="fff" data-contentid="zhexianData" data-id="shuju1">基本走势</li>
            <li data-contentid="shuju2" data-id="shuju2">K线图</li>
            <li data-id="shuju5">历史开奖数据</li>
            <!--                        <li>
                                        <a href="/index.php/lottery/lottery/index?type=liuhecai">立即投注</a>
                                    </li>-->
          </ul>
        </div>

        <style>.main-box {
          width: 1100px !important;
        }
        </style>
        <div class="qhbox liuhecai">
          <div class="search">
            <!-- <ul class="search-left">
                <li><label>遗漏数据<input id="checkboxYlsj" checked="checked" type="checkbox"></label></li>
                <li><label>遗漏分层<input id="checkboxYlfc" type="checkbox"></label></li>
                <li class="zhe"><label>折线<input id="checkboxZhexian" checked="checked" type="checkbox"></label></li>
            </ul> -->
            <ul class="search-right">
              <li>
                <div><b>查询：</b></div>
              </li>
              <li>
                <div class="qi xuan">
                  <a href="javascript:void(0)" class="on30qi">近30期</a>
                </div>
              </li>
              <li>
                <div class="qi">
                  <a href="javascript:void(0)" class="on50qi">近50期</a>
                </div>
              </li>
              <li>
                <div class="qi">
                  <a href="javascript:void(0)" class="on100qi">近100期</a>
                </div>
              </li>
              <li>
                <div class="qi">
                  <a href="javascript:void(0)" class="on150qi">近150期</a>
                </div>
              </li>
              <li>
                <div class="qi">
                  <a href="javascript:void(0)" class="on200qi">近200期</a>
                </div>
              </li>
              <li class="kuang1">
                <div class="div">
                  <a href="javascript:void(0)">绘图工具</a>
                </div>
                <div class="btn-box">
                                    <span class="btn btn-hua" onclick="change_attr(0,-1,-1)"
                                          style="background-image: url('img/zhubg.png'); background-position: -102px -346px;"></span>
                  <span class="btn btn-hua" onclick="change_attr(1,-1,-1)"
                        style="background-image: url('img/zhubg.png'); background-position: -68px -346px;"></span>
                  <span class="btn btn-hua" onclick="change_attr(3,-1,-1)"
                        style="background-image: url('img/zhubg.png'); background-position: -34px -346px;"></span>
                  <span class="btn btn-hua" onclick="change_attr(4,-1,-1)"
                        style="background-image: url('img/zhubg.png'); background-position: 0px -346px;"></span>
                  <span class="btn" onclick="change_attr(5,-1,-1)"
                        style="background-image: url('img/zhubg.png'); background-position: -34px -374px;"></span>
                  <span class="btn btn-hua"
                        onclick="fill_canvas('rgba(0, 0, 0,1)',0,0,canvas_size.x,canvas_size.y)"
                        style="background-image: url('img/zhubg.png'); background-position: 0px -374px;"></span>
                  <span class="btn btn-cos"
                        style="background-image: url('img/zhubg.png'); background-position: -71px -284px;"></span>
                </div>
              </li>
            </ul>
          </div>

          <div id="shuju1" class="shuju hide" style="display: none;">
            <div class="chu-box">
              <div class="chu">
                <div class="cl-40">
                  <div class="cl-30">
                    <div class="left cl-31">期号</div>
                    <div class="left cl-32" style="width: 170px;">奖号</div>
                    <div class="left cl-32" style="width: 50px;">正码一</div>
                    <div class="left cl-32" style="width: 50px;">正码二</div>
                    <div class="left cl-32" style="width: 50px;">正码三</div>
                    <div class="left cl-32" style="width: 50px;">正码四</div>
                    <div class="left cl-32" style="width: 50px;">正码五</div>
                    <div class="left cl-32" style="width: 50px;">正码六</div>
                    <div class="left cl-32" style="width: 50px;">特码</div>
                    <div class="left cl-33">
                      <div class="cl-35">
                        <div class="left cl-34" style="width: 159px;">总和</div>
                        <div class="left cl-34" style="width: 265px;">特码</div>
                      </div>
                      <div class="cl-35 cl-36 clean">
                        <var class="bg-1"><i style="width:50px">总数</i></var>
                        <var class="bg-1"><i style="width:50px">单双</i></var>
                        <var class="bg-1"><i style="width:50px">大小</i></var>
                        <!--                                                <var class="bg-1"><i style="width:50px">七色波</i></var>-->
                        <var class="bg-2"><i style="width:50px">单双</i></var>
                        <var class="bg-2"><i style="width:50px">大小</i></var>
                        <var class="bg-2"><i style="width:50px">合单双</i></var>
                        <var class="bg-2"><i style="width:50px">合大小</i></var>
                        <var class="bg-2"><i style="width:50px">大小尾</i></var>
                      </div>
                    </div>
                  </div>
                  <div id="zhexianData"></div>
                </div>
              </div>

            </div>
          </div>
          <div id="shuju2" class="shuju hide" style="display: none;">
            <div class="biao">
              <div id="main1"
                   style="width: 1100px; height: 600px; background: transparent none repeat scroll 0% 0%; -moz-user-select: none; position: relative;"
                   _echarts_instance_="ec_1495436558513">
                <div
                  style="position: relative; overflow: hidden; width: 1100px; height: 600px; padding: 0px; margin: 0px; border-width: 0px;">
                  <canvas
                    style="position: absolute; left: 0px; top: 0px; width: 1100px; height: 600px; -moz-user-select: none; padding: 0px; margin: 0px; border-width: 0px;"
                    width="1375" height="750" data-zr-dom-id="zr_0"></canvas>
                </div>
                <div></div>
              </div>
            </div>
          </div>
          <div id="shuju3" class="shuju hide" style="display: none;">
            <div id="main2" style="width: 1250px; height: 500px;"></div>
          </div>
          <div id="shuju4" class="shuju hide" style="display: none;">
            <table class="tongji">
              <thead>
              <tr>
                <th colspan="2">号码</th>
                <th>出现总次数</th>
                <th>平均遗漏值</th>
                <th>最大遗漏值</th>
                <th>最大连出值</th>
              </tr>
              </thead>
              <tbody>
              </tbody>
            </table>
          </div>
          <div id="shuju5" class="shuju" style="display: block;">
            <table class="table table-bordered">
              <thead>
              <tr>
                <th>期数</th>
                <th>开奖时间</th>
                <th>开奖号码</th>
                <th width="60">总和</th>
                <th width="60">特码单双</th>
                <th width="60">特码大小</th>
                <th width="60">合数单双</th>
                <th width="60">总分单双</th>
                <th width="60">总分大小</th>
                <!--                                <th>七色波</th>-->
              </tr>
              </thead>
              <tbody id="tbody">

              </tbody>
            </table>
          </div>
          <div class="shuoming qc">
            <div class="shuomingleft" style="height: 315px; width: 593px;">
              <div class="tou">
                <h3>参数说明</h3>
              </div>
              <div class="jieshi">

              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>


</div>

<canvas id="canvas" width="0" height="0" style="position: absolute; top: 70.8px; left: 210.4px; z-index: -10;"></canvas>
<canvas id="canvas2" width="0" height="0"
        style="position: absolute; top: 70.8px; left: 210.4px; z-index: -10;"></canvas>

<script type="text/javascript" src="jquery.min.js"></script>
<script src="global.js"></script>
<script src="layer.js"></script>
<script src="data_format.js"></script>
<script src="point.js"></script>
<script src="echarts.min.js"></script>

<script>
  var playGroupId = window.location.href.split('=')[1].split('.')[0];//彩种type;
  var pageSize = 30;
  $(function () {
    var date = new Date();
    var year = date.getFullYear();   //返回一个表示年份的 4 位数字
    var month = date.getMonth() + 1;   //返回表示月份的数字。返回值是 0（一月） 到 11（十二月） 之间的一个整数
    var startT = null;
    var endT = null;

    $(".search-right .qi a").click(function () {
      $(".search-right .qi.xuan").removeClass("xuan");    //方法从被选元素移除一个或多个类.
      $(this).parent().addClass("xuan");   //addClass向被选元素添加一个或多个类 //parent)_返回被选元素的直接父元素。
      var flag = $(this).html();   //html()返回或设置被选元素的内容
      if (flag == "近30期") {
        pageSize = 30;
        ajaxGetData(playGroupId, pageSize, null, null);
      } else if (flag == "近50期") {
        pageSize = 50;
        ajaxGetData(playGroupId, pageSize, null, null);
      } else if (flag == "近100期") {
        pageSize = 100;
        ajaxGetData(playGroupId, pageSize, null, null);
      } else if (flag == "近150期") {
        pageSize = 150;
        ajaxGetData(playGroupId, pageSize, null, null);
      } else if (flag == "近200期") {
        pageSize = 200;
        ajaxGetData(playGroupId, pageSize, null, null);
      }
    });
  });
  function showLoading() {
    layer.load(2, {
      shade: [0.1, '#000'] //0.1透明度的白色背景
    })
  }
  function hideLoading() {
    layer.closeAll();
  }

  $(function () {
    parent.hideLoading();
  });

  $(function () {
    //悬停
    $(".czqh").hover(function () {
      $(".min").show();
      $(".min").css("z-index", "20000");
    }, function () {
      $(".min").hide();
      $(".min").css("z-index", "0");
    });

    //点击绘图工具
    $(".kuang1 .div").click(function () {
      $(".kuang1 .btn-box").show();
      $("#canvas,#canvas2").css("z-index", "10000");
    });

    $(".btn-cos").click(function () {
      $(".kuang1 .btn-box").hide();
      $("#canvas,#canvas2").css("z-index", "-10");
      clear_canvas()
    });

  });

  function clearHuatu() {
    $("#canvas,#canvas2").attr("height", "0");
    $("#canvas,#canvas2").attr("width", "0");
  }

  function initHuatu(id) {
    //canvas高
    $("#canvas,#canvas2").attr("height", $("#" + id + "").height() + "px");
    $("#canvas,#canvas2").attr("width", $("#" + id + "").width() + "px");
    $("#canvas,#canvas2").css("top", $("#" + id + "").offset().top + "px");
    $("#canvas,#canvas2").css("left", $("#" + id + "").offset().left + "px");
  }

  //走势图页面
  //    function getZstPage(url) {
  //        if (typeof url == 'undefined') {
  //            url = 'index';
  //        }
  //        //window.location.href = "http://www.600wan.cm:80/ssc/zst/" + url + ".html?type=1";
  //    }

  //购彩页面
  //    function getSscPage(module) {
  //        if (typeof module == 'undefined') {
  //            module = '';
  //        }
  //
  //       // module -- 字符串例子：gcdt/cqssc
  //      // var caizhong = module.toString().split("/");
  //        window.location.href ='http://www.600wan.cm:80/ssc/index.html?module=' + module;
  //    }


  $(function () {
    var right_w = $(".shuoming .shuomingright").outerWidth();
    var right_h = $(".shuoming .shuomingright").outerHeight();
    var left_h = $(".shuoming .shuomingleft").outerHeight();
    if (right_h > left_h) {
      $(".shuoming .shuomingleft").css("height", right_h);
    }
    var zong_w = $(".shuoming").outerWidth();
    var left_w = zong_w - right_w - 5;
    $(".shuoming .shuomingleft").css("width", left_w);
  });
</script>
<script src="../config.js"></script>
<script>
  $(function () {
    $(".btn-navs li").click(function (e) {
      $(".shuju").hide();
      $("#" + $(this).data("id")).show();
      $(this).attr("class", "fff").siblings().removeClass();
      if ($(this).data("id") == 'shuju1' || $(this).data("id") == 'shuju2' || $(this).data("id") == 'shuju3') {
        initHuatu($(this).data("contentid"));
      } else {
        clearHuatu();
      }
    });

//        var type = '1';
//        if(typeof type == 'undefined' || type == '' || isNaN(type)) {
//            type = 1;
//        } else {
//            type = Tools.parseInt(type);
//        }
//        $("[data-id='shuju" + type + "']").trigger("click");
//        $(".search-right .qi a").eq(0).trigger("click");
    var type = window.location.href.split('tab=')[1] - 1;

    if (type > 2) {
      type = 0;
    }
    //页面打开时，触发  $(".btn-navs li") 的点击事件
    $(".btn-navs li").eq(type).trigger("click");
    // $("[data-id='shuju" + type + "']").trigger("click");
    $(".search-right .qi a").eq(0).trigger("click");
  });
  // 获取cookie
  function getCookie(name) {
    var arr, reg = new RegExp("(^| )" + name + "=([^;]*)(;|$)");

    if (arr = document.cookie.match(reg))

      return unescape(arr[2]);
    else
      return null;
  }
  ;
  function ajaxGetData(playGroupId, pageSize, startT, endT) {
    var data = {
      type: playGroupId || 1,
      num: pageSize || 30,
      startT: startT,
      token: getCookie('token') == '' ? '' : getCookie('token')
    };
    console.log(data);
    ajaxRequest({
//            url: "./ajaxGetHistory?type="+playGroupId+"&&page="+data.pageSize+"&&date="+data.startT,
//            url: 'http://pkapi.pk1358.com/auto/pc_trend',
      url: window.configs.net_url + 'auto/pc_trend',
      data: data,
      beforeSend: function () {
        parent.showLoading();
      },
      success: function (json) {
        console.log(json);
        if (json.ErrorCode != 1) {
          alert('暂无数据，请重新选择！');
          parent.hideLoading();
          return;
        }
        $(".cplogo_img").attr('src', json.img);
        var type_img = json.type_list;
        for (var i = 0; i < type_img.length; i++) {
          if (type_img[i].type) {
            $('.' + type_img[i].type).attr('src', type_img[i].img)
          }
        }
        var data = json.Data;
//                var data = json.sscHistoryList;
//                data.reverse();
        // 折线
        zhexian(data);
        // k线
        kxian(data);
        // 直方图
        zhifang(data);
        // 历史数据
        lssj(data);
        parent.hideLoading();

        $(".btn-navs li").each(function () {
          if ($(this).hasClass("fff")) {
            initHuatu($(this).data("contentid"));
            return;
          }

        });
      }
    });
  }

  $(function () {
    $("#checkboxZhexian").change(function () {
      if ($(this).is(":checked")) {
        $(".zhexian").show();
      } else {
        $(".zhexian").hide();
      }
    });

    $("#checkboxYlsj").change(function () {
      if ($(this).is(":checked")) {
        $(".transparent").addClass("not-transparent");
      } else {
        $(".transparent").removeClass("not-transparent");
      }
    });

    $("#checkboxYlfc").change(function () {
      if ($(this).is(":checked")) {
        $(".ylfc").addClass("ylfc-bg");
      } else {
        $(".ylfc").removeClass("ylfc-bg");
      }
    });
  });
</script>
<script>
  function lssj(data) {
    var str = '';
    $.each(data, function (index, value) {
      str += '<tr>';
      str += '<td>' + value.number + '</td>';
      str += '<td>' + value.ktime + '</td>';
      str += '<td style="border-bottom: 1px solid #ddd;"><table class="table-noborder"><tbody><tr style="height: 28px">';
      var arr = value.openCode.split(",");
      for (var i = 0; i < arr.length; ++i) {
        if (i == (arr.length - 1)) {
          str += '<td>+</td>';
          str += '<td><span style="margin-top: 0" class="icon_2 ball-style ball' + arr[i] + ' b-">' + arr[i] + '</span></td>';
        } else {
          str += '<td><span style="margin-top: 0" class="icon_2 ball-style ball' + arr[i] + ' b-">' + arr[i] + '</span></td>';
        }
      }
      str += '</tr><tr>';
      for (var i = 0; i < arr.length; ++i) {
        var haoma = Tools.parseInt(arr[i]);
        if (i == (arr.length - 1)) {
          str += '<td style="border-bottom: none;"></td>';
          str += '<td style="border-bottom: none;"><span style="color: #000" class="icon_2 ball-style b-">' + getSxName(haoma) + '</span></td>';
        } else {
          str += '<td style="border-bottom: none;"><span style="color: #000" class="icon_2 ball-style b-">' + getSxName(haoma) + '</span></td>';
        }
      }
      str += '</tr></tbody></table></td>';
      var sum = 0;
      var boseArr = [0, 0, 0];
      $.each(arr, function (index, value) {
        sum += Tools.parseInt(value);
        boseArr[getBose(value)]++;
      });
      var maxBose = 0;
      var maxValue = 0;
      $.each(boseArr, function (index, value) {
        if (value > maxValue) {
          maxValue = value;
          maxBose = index;
        }
      });
      if (maxBose == 0) {
        maxBose = '<font class="color-red">红波</font>';
      } else if (maxBose == 1) {
        maxBose = '<font class="color-blue">蓝波</font>';
      } else if (maxBose == 2) {
        maxBose = '<font class="color-green">绿波</font>';
      }
      str += '<td>' + sum + '</td>';
      var tm = Tools.parseInt(arr[6]);
      str += '<td>' + (tm % 2 == 0 ? '<font class="color-red">双</font>' : '<font>单</font>') + '</td>';
      str += '<td>' + (tm >= 25 ? (tm != 49 ? '<font class="color-red">大</font>' : '和') : '<font>小</font>') + '</td>';
      str += '<td>' + ((Math.floor(tm / 10) + tm % 10) % 2 == 0 ? '<font class="color-red">合双</font>' : '<font>合单</font>') + '</td>';
      str += '<td>' + (sum % 2 == 0 ? '总和双' : '总和单') + '</td>';
      str += '<td>' + (sum >= 175 ? '总和大' : '总和小') + '</td>';
      //str += '<td>'+maxBose+'</td>';
      str += '</tr>';
    });
    $("#shuju5 table tbody").html(str);
  }

  function zhifang(data) {
    return;
    // 基于准备好的dom，初始化echarts实例
    var myChart2 = echarts.init(document.getElementById('main2'));
    // 指定图表的配置项和数据
    var option = {
      grid: {
        left: 20,
        right: 20,
        top: 35,
        bottom: 0,
        containLabel: true
      },
      tooltip: {
        show: true,
        trigger: 'axis',
        //show: true,   //default true
        showDelay: 0, //显示延时，添加显示延时可以避免频繁切换
        hideDelay: 50, //隐藏延时
        transitionDuration: 0, //动画变换时长
        backgroundColor: 'rgba(0,0,0,0.7)', //背景颜色（此时为默认色）
        borderRadius: 8, //边框圆角
        padding: 10, // [5, 10, 15, 20] 内边距
        position: function (p) {
          // 位置回调
          // console.log && console.log(p);
          return [p[0] + 10, p[1] - 10];
        },
        formatter: function (params, ticket, callback) {
          var res = "基本号码" + ' : ' + params[0].name;
          for (var i = 0, l = params.length; i < l; i++) {
            res += '<br/>' + params[i].seriesName + ' : ' + params[i].value; //鼠标悬浮显示的字符串内容
          }
          return res;
        }
      },
      xAxis: {
        type: 'category',
        axisTick: {
          alignWithLabel: true
        },
        data: []
      },
      yAxis: [{
        type: 'value',
        splitNumber: 10,
        triggerEvent: true,
      }],
      series: [{
        name: '出现次数',
        type: 'bar',
        data: [],
        legendHoverLink: true,
        label: {
          normal: {
            show: true,
            position: 'top',
            textStyle: {
              color: '#000'
            }
          }
        },
        markPoint: {
          symbol: 'pin',
          symbolSize: 50,
          silent: true,
          animation: true,
        },
        barWidth: '27px',
        barGap: '30%',
        //            barCategoryGap:'30%',
        markArea: {
          //              silent:true
        },
        itemStyle: {
          normal: {
            color: ['#6DB8FF']
          }
        }
      }]
    };
    var yData = [];
    for (var i = 0; i < 10; ++i) {
      yData[i] = 0;
      option.xAxis.data.push(i);
    }
    $.each(data, function (index, value) {
      var openCode = value.openCode;
      var arr = openCode.split(",");
      for (var i = 0; i < arr.length; ++i) {
        yData[Tools.parseInt(arr[i])]++;
      }
    });
    option.series[0].data = yData;
    console.log(option);
    // 使用刚指定的配置项和数据显示图表。
    myChart2.setOption(option);
  }

  function kxian(data) {
    // 基于准备好的dom，初始化echarts实例
    var myChart1 = echarts.init(document.getElementById('main1'));

    var subtext = "六合彩";
    if (data.length > 0) {
      subtext += " 第" + data[0].number + '期 ~ ' + "第" + data[data.length - 1].number + '期';
    }

    // 指定图表的配置项和数据
    var option = {
      title: {
        text: "六合彩K线图",
        subtext: subtext,
        x: 'center'
      },
      legend: {
        data: ['第1位', '第2位', '第3位', '第4位', '第5位', '第6位', '第7位'],
        y: 530
      },
      dataZoom: {
        show: true,
        realtime: true,
        start: 0,
        end: 60
      },
      xAxis: [{
        axisLabel: {
          rotate: -60,
        },
        type: 'category',
        boundaryGap: false,
        data: []
      }],
      tooltip: {
        trigger: 'axis',
        formatter: function (params) {
          var openCode = params[0].data.openCode;

          var res = params[0].seriesName;
          res += '<br/>期号：' + params[0].name;
          res += '<br/>号码：' + params[0].data;
          return res;
        }
      },
      yAxis: [{
        type: 'value',
        name: '号码'
      }],
      grid: {
        left: '1%',
        right: '2%',
        containLabel: true,
        y2: 120
      },
      series: [{
        name: '第1位',
        type: 'line',
        data: []
      }, {
        name: '第2位',
        type: 'line',
        data: []
      }, {
        name: '第3位',
        type: 'line',
        data: []
      }, {
        name: '第4位',
        type: 'line',
        data: []
      }, {
        name: '第5位',
        type: 'line',
        data: []
      }, {
        name: '第6位',
        type: 'line',
        data: []
      }, {
        name: '第7位',
        type: 'line',
        data: []
      },]
    };
    $.each(data, function (index, value) {
      option.xAxis[0].data.push(value.number);

      var tmpArr = value.openCode.split(",");
      $.each(tmpArr, function (index, value) {
        var v = Tools.parseInt(value);
        option.series[index].data.push(v);
      });

    });

    myChart1.setOption(option);
  }

  function zhexian(data) {
    var str = '';
    for (var i = 0; i < data.length; i++) {
      // qihao
      str += '<div class="cl-30 clean">';
      str += '<div class="left cl-31 number" style="height:45px;line-height:45px;">' + data[i].number + '</div>';

      var kjData = data[i].openCode.split(",");
      str += '<div class="left cl-32 openCode" style="width:170px;height:45px;line-height:45px;">';
      for (var j = 0; j < 7; ++j) {
        var haoma = Tools.parseInt(kjData[j]);
        var bg = getBose(haoma);
        if (bg == 0) {
          bg = 'ball-red';
        } else if (bg == 1) {
          bg = 'ball-blue';
        } else {
          bg = 'ball-green';
        }
        if (kjData[j].length == 1) {
          str += '<span style="padding:3px;margin-right:3px;" class="round ' + bg + '">' + '0' + kjData[j] + '</span>';
        } else {
          str += '<span style="padding:3px;margin-right:3px;" class="round ' + bg + '">' + kjData[j] + '</span>';
        }

      }
      str += '</div>';

      str += '<div class="cl-35 cl-36">';
      for (var j = 0; j < kjData.length; ++j) {
        var haoma = Tools.parseInt(kjData[j]);

        str += '<var  style="width:50px;height:45px;">';
        var bg = getBose(haoma);
        if (bg == 0) {
          bg = 'ball-red';
        } else if (bg == 1) {
          bg = 'ball-blue';
        } else {
          bg = 'ball-green';
        }
        str += '<i style="width:25px;line-height:25px;height:25px;margin:auto;" data-num="' + haoma + '" class="round ' + bg + '">';
        str += haoma;
        str += '</i>';
        str += '<span class="clean">' + getSxName(haoma) + '</span>';
        str += '</var>';
      }

      var sum = 0;
      var boseArr = [0, 0, 0];
      $.each(kjData, function (index, value) {
        sum += Tools.parseInt(value);
        boseArr[getBose(value)]++;
      });
      var maxBose = 0;
      var maxValue = 0;
      $.each(boseArr, function (index, value) {
        if (value > maxValue) {
          maxValue = value;
          maxBose = index;
        }
      });
      if (maxBose == 0) {
        maxBose = '<font class="color-red">红波</font>';
      } else if (maxBose == 1) {
        maxBose = '<font class="color-blue">蓝波</font>';
      } else if (maxBose == 2) {
        maxBose = '<font class="color-green">绿波</font>';
      }
      str += '<div class="left cl-31 number" style="background:none;width:53px;height:45px;line-height:45px;">' + sum + '</div>';
      str += '<div class="left cl-31 number" style="background:none;width:53px;height:45px;line-height:45px;">' + (sum % 2 == 0 ? '总和双' : '总和单') + '</div>';
      str += '<div class="left cl-31 number" style="background:none;width:53px;height:45px;line-height:45px;">' + (sum >= 175 ? '总和大' : '总和小') + '</div>';
      //str += '<div class="left cl-31 number" style="background:none;width:53px;height:45px;line-height:45px;">' + maxBose + '</div>';

      var tm = Tools.parseInt(kjData[6]);
      str += '<div class="left cl-31 number" style="background:none;width:53px;height:45px;line-height:45px;">' + (tm % 2 == 0 ? '<font class="color-red">双</font>' : '<font>单</font>') + '</div>';
      str += '<div class="left cl-31 number" style="background:none;width:53px;height:45px;line-height:45px;">' + (tm >= 25 ? (tm != 49 ? '<font class="color-red">大</font>' : '和') : '<font>小</font>') + '</div>';
      str += '<div class="left cl-31 number" style="background:none;width:53px;height:45px;line-height:45px;">' + ((Math.floor(tm / 10) + tm % 10) % 2 == 0 ? '<font class="color-red">合双</font>' : '<font>合单</font>') + '</div>';
      str += '<div class="left cl-31 number" style="background:none;width:53px;height:45px;line-height:45px;">' + (tm == 49 ? '和' : ((Math.floor(tm / 10) + tm % 10) >= 7 ? '<font class="color-red">合大</font>' : '<font>合小</font>')) + '</div>';
      str += '<div class="left cl-31 number" style="background:none;width:53px;height:45px;line-height:45px;">' + (tm == 49 ? '和' : (tm % 10 >= 5 ? '<font class="color-red">尾大</font>' : '<font>尾小</font>')) + '</div>';

      str += '</div>';
    }
    $("#zhexianData").html(str);

    //        for (var i = 0; i < data.length-1 ;++i) {
    //            for (var j = 0; j < 5; ++j) {
    //                bc1 = Tools.parseInt(data[i].openCode.split(',')[j]) - Tools.parseInt(data[i + 1].openCode.split(',')[j]);
    //                var Left = 0;
    //                if (bc1 < 0) {
    //                    bc1 = -bc1;
    //                    Left = (bc1) * (-20);
    //                }
    //                var canvas = document.getElementById("canvas" + i + j);
    //                var context = canvas.getContext("2d");
    //                var bc1 = (data[i].openCode.split(',')[j]) - data[i + 1].openCode.split(',')[j];
    //                if (bc1 < 0) {
    //                    context.moveTo(17, 13);
    //                    context.lineTo(canvas.width - 13, canvas.height - 8);
    //                } else if (bc1 > 0) {
    //                    context.moveTo(canvas.width - 13, 13);
    //                    context.lineTo(8, canvas.height - 5);
    //                } else {
    //                    context.moveTo(10, 12);
    //                    context.lineTo(10, 30);
    //                }
    //                if (j % 2 != 0) {
    //                    context.strokeStyle = "#cc0000";
    //                }
    //                context.stroke();
    //            }
    //        }
    //        if ($("#checkboxZhexian").is(":checked")) {
    //            $(".zhexian").show();
    //        } else {
    //            $(".zhexian").hide();
    //        }
    //
    //        // 遗漏
    //        renderYilou(data);
    //
    //        if ($("#checkboxYlsj").is(":checked")) {
    //            $(".transparent").addClass("not-transparent");
    //        } else {
    //            $(".transparent").removeClass("not-transparent");
    //        }
  }

  function renderYilou(data) {
    // 遗漏统计
    var yilou = [];
    for (var i = 0; i < 5; ++i) {
      yilou[i] = [];
      for (var j = 0; j < 10; ++j) {
        yilou[i][j] = {
          cxCs: 0, // 出现次数
          maxLcCs: 0, // 最大连出次数
          ylArr: [] // 遗漏次数
        };
      }
    }

    for (var i = 0; i < 5; ++i) {
      for (var j = 0; j < 10; ++j) {
        var obj = yilou[i][j];

        var tmpYlCs = 0; // 连续遗漏次数
        var tmpLcCs = 0; // 连出次数
        $.each(data, function (index, value) {
          var openCodeArr = value.openCode.split(",");
          var tmpValue = Tools.parseInt(openCodeArr[i]);

          if (tmpValue != j) { // 遗漏
            tmpYlCs++;
            if (tmpLcCs > obj.maxLcCs) {
              obj.maxLcCs = tmpLcCs;
            }
            tmpLcCs = 0;
          } else { // 中
            obj.cxCs++;
            tmpLcCs++;

            obj.ylArr.push(tmpYlCs);
            tmpYlCs = 0;
          }
        });
      }
    }

    var str1 = '',
      str2 = '',
      str3 = '',
      str4 = '';
    for (var i = 0; i < 5; ++i) {
      for (var j = 0; j < 10; ++j) {
        var obj = yilou[i][j];
        // 出现次数
        str1 += '<var><i>' + obj.cxCs + '</i></var>';

        // 平均遗漏值&最大遗漏值
        var maxYl = 0;
        if (obj.ylArr.length > 0) {
          var sumYl = 0;
          $.each(obj.ylArr, function (index, value) {
            sumYl += value;
            maxYl = value > maxYl ? value : maxYl;
          });
          str2 += '<var><i>' + Math.floor(sumYl / obj.ylArr.length) + '</i></var>';
          str3 += '<var><i>' + maxYl + '</i></var>';
        } else {
          str2 += '<var><i>0</i></var>';
          str3 += '<var><i>0</i></var>';
        }

        // 最大连出值
        str4 += '<var><i>' + obj.maxLcCs + '</i></var>';
      }
    }

    $("#cxzcs").html(str1);
    $("#pjylz").html(str2);
    $("#zdylz").html(str3);
    $("#zdlcz").html(str4);

    var str5 = '';
    for (var i = 0; i < 5; ++i) {
      for (var j = 0; j < 10; ++j) {
        str5 += '<tr>';
        if (j == 0) {
          if (i == 0) {
            str5 += '<td rowspan="10">万位</td>';
          } else if (i == 1) {
            str5 += '<td rowspan="10">千位</td>';
          } else if (i == 2) {
            str5 += '<td rowspan="10">百位</td>';
          } else if (i == 3) {
            str5 += '<td rowspan="10">十位</td>';
          } else if (i == 4) {
            str5 += '<td rowspan="10">个位</td>';
          }
        }

        str5 += '<td>' + j + '</td>';

        var obj = yilou[i][j];
        // 出现次数
        str5 += '<td>' + obj.cxCs + '</td>';

        // 平均遗漏值&最大遗漏值
        var maxYl = 0;
        if (obj.ylArr.length > 0) {
          var sumYl = 0;
          $.each(obj.ylArr, function (index, value) {
            sumYl += value;
            maxYl = value > maxYl ? value : maxYl;
          });
          str5 += '<td>' + Math.floor(sumYl / obj.ylArr.length) + '</td>';
          str5 += '<td>' + maxYl + '</td>';
        } else {
          str5 += '<td>0</td>';
          str5 += '<td>0</td>';
        }

        // 最大连出值
        str5 += '<td>' + obj.maxLcCs + '</td>';
        str5 += '</tr>';
      }
    }
    $("#shuju4 table tbody").html(str5);

    // 遗漏数据
    for (var i = 0; i < 5; ++i) {
      for (var j = 0; j < 10; ++j) {
        var tmpCount = 0;
        var obj = $(".i_" + i + "_" + j + " i");
        $(obj).each(function () {
          if (typeof $(this).data('num') == 'undefined') {
            tmpCount = tmpCount + 1;
            $(this).html(tmpCount).addClass("transparent");
          } else {
            tmpCount = 0;
          }
        });
      }
    }

    // 遗漏分层
    for (var i = 0; i < 5; ++i) {
      for (var j = 0; j < 10; ++j) {
        var tmpCount = 0;
        var obj = $(".i_" + i + "_" + j + " i");
        for (var k = obj.length - 1; k >= 0; --k) {
          var tmpObj = $(obj).eq(k);
          if (typeof $(tmpObj).data('num') == 'undefined') {
            $(tmpObj).parent().addClass("ylfc")
          } else {
            break;
          }
        }
      }
    }
  }
</script>

<div class="layui-layer-move"></div>
</body>
</html>
