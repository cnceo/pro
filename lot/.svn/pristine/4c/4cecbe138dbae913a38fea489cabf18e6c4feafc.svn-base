<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>北京赛车pk拾结果走势图</title>
    <link href="style.css" rel="stylesheet" type="text/css">
<body>
<div id="box" class="qc">
    <div class="qc" id="Right">
        <div class="main">
            <div class="main-box">
                <div class="main-nav">
                    <div class="cplogo"><img src="https://pcu.pkcdns1.com/10/shared/lottlys/images/pk/bj_10.png" alt="PK10"><span>北京赛车pk拾</span></div>
                    <div class="czqh">
                        <span class="curretSsc">切换彩种</span><span class="xiajian"></span>
                        <div class="min" style="display: none;">
                            <dl>
                                                                                                                                                                <dt>
                                    <span class="iconOne zoushituTuBiao-gpc"></span>
                                    北京彩：
                                </dt>
                                <dd>
                                    <ul>
                                                                                <li>
                                            <a href="chart-lotteryId=bj_10.html">北京赛车pk拾</a>
                                        </li>
                                                                            </ul>
                                </dd>
                                                                                                                                <dt>
                                    <span class="iconOne zoushituTuBiao-klc"></span>
                                    快乐彩：
                                </dt>
                                <dd>
                                    <ul>
                                                                                <li>
                                            <a href="chart-lotteryId=dm_klc.html">丹麦快乐彩</a>
                                        </li>
                                                                                <li>
                                            <a href="chart-lotteryId=jnd_bs.html">加拿大卑斯</a>
                                        </li>
                                                                                <li>
                                            <a href="chart-lotteryId=bj_8.html">北京快乐8</a>
                                        </li>
                                                                            </ul>
                                </dd>
                                                                                                                                <dt>
                                    <span class="iconOne zoushituTuBiao-ssc"></span>
                                    时时彩：
                                </dt>
                                <dd>
                                    <ul>
                                                                                <li>
                                            <a href="chart-lotteryId=xj_ssc.html">新疆时时彩</a>
                                        </li>
                                                                                <li>
                                            <a href="chart-lotteryId=tj_ssc.html">天津时时彩</a>
                                        </li>
                                                                                <li>
                                            <a href="chart-lotteryId=cq_ssc.html">重庆时时彩</a>
                                        </li>
                                                                            </ul>
                                </dd>
                                                                                                                                <dt>
                                    <span class="iconOne zoushituTuBiao-sf"></span>
                                    快乐十分：
                                </dt>
                                <dd>
                                    <ul>
                                                                                <li>
                                            <a href="chart-lotteryId=gd_ten.html">广东快乐十分</a>
                                        </li>
                                                                                <li>
                                            <a href="chart-lotteryId=cq_ten.html">重庆快乐十分</a>
                                        </li>
                                                                            </ul>
                                </dd>
                                                                                                                                <dt>
                                    <span class="iconOne zoushituTuBiao-k3"></span>
                                    快三：
                                </dt>
                                <dd>
                                    <ul>
                                                                                <li>
                                            <a href="chart-lotteryId=ah_k3.html">安徽快3</a>
                                        </li>
                                                                                <li>
                                            <a href="chart-lotteryId=gx_k3.html">广西快3</a>
                                        </li>
                                                                                <li>
                                            <a href="chart-lotteryId=js_k3.html">江苏快3</a>
                                        </li>
                                                                            </ul>
                                </dd>
                                                                                                                                <dt>
                                    <span class="iconOne zoushituTuBiao-11"></span>
                                    十一选五：
                                </dt>
                                <dd>
                                    <ul>
                                                                                <li>
                                            <a href="chart-lotteryId=jx_11.html">江西11选5</a>
                                        </li>
                                                                                <li>
                                            <a href="chart-lotteryId=sd_11.html">山东11选5</a>
                                        </li>
                                                                                <li>
                                            <a href="chart-lotteryId=gd_11.html">广东11选5</a>
                                        </li>
                                                                            </ul>
                                </dd>
                                                                                                                                <dt>
                                    <span class="iconOne zoushituTuBiao-xy"></span>
                                    幸运彩：
                                </dt>
                                <dd>
                                    <ul>
                                                                                <li>
                                            <a href="chart-lotteryId=dm_28.html">丹麦28</a>
                                        </li>
                                                                                <li>
                                            <a href="chart-lotteryId=jnd_28.html">加拿大28</a>
                                        </li>
                                                                                <li>
                                            <a href="chart-lotteryId=pc_28.html">PC蛋蛋</a>
                                        </li>
                                                                                <li>
                                            <a href="chart-lotteryId=bj_28.html">PK北京28</a>
                                        </li>
                                                                            </ul>
                                </dd>
                                                                                            </dl>
                            <dl>
                                                                                                <dt>
                                    <span class="iconTwo"></span>
                                    一般彩球：
                                </dt>
                                <dd>
                                    <ul>
                                                                                <li>
                                            <a href="chart-lotteryId=liuhecai.html">六合彩</a>
                                        </li>
                                                                                <li>
                                            <a href="chart-lotteryId=pl_3.html">排列三</a>
                                        </li>
                                                                                <li>
                                            <a href="chart-lotteryId=fc_3d.html">福彩3D</a>
                                        </li>
                                                                            </ul>
                                </dd>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </dl>
                        </div>
                    </div>
                    <ul class="btn-navs">
                        <li class="fff" data-contentid="zhexianData" data-id="shuju1">基本走势</li>
                        <li data-contentid="shuju2" data-id="shuju2">K线图</li>
                        <li data-id="shuju5">历史开奖数据</li>
<!--                        <li>
                            <a href="/index.php/lottery/lottery/index?type=bj_10">立即投注</a>
                        </li>-->
                    </ul>
                </div>

<style>.main-box{
    width: 2402px !important;
}
</style>        
                <div class="qhbox">
                    <div class="search">
                        <ul class="search-left">
                            <li><label>遗漏数据<input id="checkboxYlsj" checked="checked" type="checkbox"></label></li>
                            <li><label>遗漏分层<input id="checkboxYlfc" type="checkbox"></label></li>
                            <li class="zhe"><label>折线<input id="checkboxZhexian" checked="checked" type="checkbox"></label></li>
                        </ul>
                        <ul class="search-right">
                            <li>
                                <div> <b>查询：</b></div>
                            </li>
                            <li>
                                <div class="qi xuan">
                                    <a href="javascript:void(0)" class="on30qi">近30期</a>
                                </div>
                            </li>
                            <li>
                                <div class="qi">
                                    <a href="javascript:void(0)" class="on50qi">近50期</a>
                                </div>
                            </li>
                            <li>
                                <div class="qi">
                                    <a href="javascript:void(0)" class="on100qi">近100期</a>
                                </div>
                            </li>
                            <li>
                                <div class="qi">
                                    <a href="javascript:void(0)" class="on150qi">近150期</a>
                                </div>
                            </li>
                            <li>
                                <div class="qi">
                                    <a href="javascript:void(0)" class="on200qi">近200期</a>
                                </div>
                            </li>
                            <li>
                                <div class="qi">
                                    <a href="javascript:void(0)" class="on200qi">前天</a>
                                </div>
                            </li>
                            <li>
                                <div class="qi">
                                    <a href="javascript:void(0)" class="on200qi">今天</a>
                                </div>
                            </li>
                            <li>
                                <div class="qi">
                                    <a href="javascript:void(0)" class="on200qi">昨天</a>
                                </div>
                            </li>
                            <li class="kuang1">
                                <div class="div">
                                    <a href="javascript:void(0)">绘图工具</a>
                                </div>
                                <div class="btn-box">
                                    <span class="btn btn-hua" onclick="change_attr(0,-1,-1)" style="background-image: url('https://pcu.pkcdns1.com/10/shared/zoushitu/img/zhubg.png'); background-position: -102px -346px;"></span>
                                    <span class="btn btn-hua" onclick="change_attr(1,-1,-1)" style="background-image: url('https://pcu.pkcdns1.com/10/shared/zoushitu/img/zhubg.png'); background-position: -68px -346px;"></span>
                                    <span class="btn btn-hua" onclick="change_attr(3,-1,-1)" style="background-image: url('https://pcu.pkcdns1.com/10/shared/zoushitu/img/zhubg.png'); background-position: -34px -346px;"></span>
                                    <span class="btn btn-hua" onclick="change_attr(4,-1,-1)" style="background-image: url('https://pcu.pkcdns1.com/10/shared/zoushitu/img/zhubg.png'); background-position: 0px -346px;"></span>
                                    <span class="btn" onclick="change_attr(5,-1,-1)" style="background-image: url('https://pcu.pkcdns1.com/10/shared/zoushitu/img/zhubg.png'); background-position: -34px -374px;"></span>
                                    <span class="btn btn-hua" onclick="fill_canvas('rgba(0, 0, 0,1)',0,0,canvas_size.x,canvas_size.y)" style="background-image: url('https://pcu.pkcdns1.com/10/shared/zoushitu/img/zhubg.png'); background-position: 0px -374px;"></span>
                                    <span class="btn btn-cos" style="background-image: url('https://pcu.pkcdns1.com/10/shared/zoushitu/img/zhubg.png'); background-position: -71px -284px;"></span>
                                </div>
                            </li>
                        </ul>
                    </div>

                    <div id="shuju1" class="shuju hide" style="display: block;">
                        <div class="chu-box">
                            <div class="chu">
                                <div class="cl-40">
                                    <div class="cl-30">
                                        <div class="left cl-31">期号</div>
                                        <div class="left cl-32" style="width: 200px;">奖号</div>
                                        <div class="left cl-33">
                                            <div class="cl-35">
                                                <div class="left cl-34">冠军</div>
                                                <div class="left cl-34">亚军</div>
                                                <div class="left cl-34">季军</div>
                                                <div class="left cl-34">第四名</div>
                                                <div class="left cl-34">第五名</div>
                                                <div class="left cl-34">第六名</div>
                                                <div class="left cl-34">第七名</div>
                                                <div class="left cl-34">第八名</div>
                                                <div class="left cl-34">第九名</div>
                                                <div class="left cl-34">第十名</div>
                                            </div>
                                            <div class="cl-35 cl-36 clean">
                                                <script>
                                                    for(var i = 0; i < 10; ++i) {
                                                        for(var j = 0; j < 10; ++j) {
                                                            var s = '';
                                                            if(i % 2 == 0) {
                                                                s = 'bg-1';
                                                            } else {
                                                                s = 'bg-2'
                                                            }
                                                            document.write('<var class="' + s + '"><i>' + (j + 1) + '</i></var>');
                                                        }
                                                    }
                                                </script>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="zhexianData"></div>
                                </div>
                            </div>

                            <div class="cl-40 clean cl-41">
                                <p>遗漏统计</p>
                            </div>
                            <div class="cl-40 clean">
                                <div class="cl-30">
                                    <div class="left cl-31">期号</div>
                                    <div class="left cl-32" style="width: 200px;">奖号</div>
                                    <div class="left cl-33">
                                        <div class="cl-35">
                                            <div class="left cl-34">冠军</div>
                                            <div class="left cl-34">亚军</div>
                                            <div class="left cl-34">季军</div>
                                            <div class="left cl-34">第四名</div>
                                            <div class="left cl-34">第五名</div>
                                            <div class="left cl-34">第六名</div>
                                            <div class="left cl-34">第七名</div>
                                            <div class="left cl-34">第八名</div>
                                            <div class="left cl-34">第九名</div>
                                            <div class="left cl-34">第十名</div>
                                        </div>
                                        <div class="cl-35 cl-36 clean">
                                            <script>
                                                for(var i = 0; i < 10; ++i) {
                                                    for(var j = 0; j < 10; ++j) {
                                                        var s = '';
                                                        if(i % 2 == 0) {
                                                            s = 'bg-1';
                                                        } else {
                                                            s = 'bg-2'
                                                        }
                                                        document.write('<var class="' + s + '"><i>' + (j + 1) + '</i></var>');
                                                    }
                                                }
                                            </script>
                                        </div>
                                    </div>
                                </div>
                                <div id="yiLouData">
                                    <div class="clean bg-gray">
                                        <div class="left cl-31 cl-51" style="width: 300px;">出现总次数</div>
                                        <div id="cxzcs"></div>
                                    </div>
                                    <div class="clean bg-white">
                                        <div class="left cl-31 cl-51" style="width: 300px;">平均遗漏值</div>
                                        <div id="pjylz"></div>
                                    </div>
                                    <div class="clean bg-gray">
                                        <div class="left cl-31 cl-51" style="width: 300px;">最大遗漏值</div>
                                        <div id="zdylz"></div>
                                    </div>
                                    <div class="clean bg-white">
                                        <div class="left cl-31 cl-51" style="width: 300px;">最大连出值</div>
                                        <div id="zdlcz"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><div id="shuju2" class="shuju hide" style="display: none;">
                        <div class="biao">
                            <div id="main1" style="width: 1000px; height: 600px; background: transparent none repeat scroll 0% 0%; -moz-user-select: none; position: relative;" _echarts_instance_="ec_1494838233772"><div style="position: relative; overflow: hidden; width: 1000px; height: 600px; padding: 0px; margin: 0px; border-width: 0px;"><canvas style="position: absolute; left: 0px; top: 0px; width: 1000px; height: 600px; -moz-user-select: none; padding: 0px; margin: 0px; border-width: 0px;" width="1250" height="750" data-zr-dom-id="zr_0"></canvas></div><div></div></div>
                        </div>
                    </div><div id="shuju3" class="shuju hide" style="display: none;">
                        <div id="main2" style="width: 800px; height: 500px; -moz-user-select: none; position: relative; background: transparent none repeat scroll 0% 0%;" _echarts_instance_="ec_1494838233773"><div style="position: relative; overflow: hidden; width: 800px; height: 500px; padding: 0px; margin: 0px; border-width: 0px;"><canvas style="position: absolute; left: 0px; top: 0px; width: 800px; height: 500px; -moz-user-select: none; padding: 0px; margin: 0px; border-width: 0px;" width="1000" height="625" data-zr-dom-id="zr_0"></canvas></div><div></div></div>
                    </div><div id="shuju4" class="shuju hide" style="display: none;">
                        <table class="tongji">
                            <thead>
                            <tr>
                                <th colspan="2">号码</th>
                                <th>出现总次数</th>
                                <th>平均遗漏值</th>
                                <th>最大遗漏值</th>
                                <th>最大连出值</th>
                            </tr>
                            </thead>
                            <tbody>

                            </tbody>
                        </table>
                    </div>
                    <div id="shuju5" class="shuju" style="display: none;">
                        <table class="table table-bordered">
                            <thead>
                            <tr>
                                <th>期数</th>
                                <th>开奖时间</th>
                                <th>开奖号码</th>
                                <th colspan="3">冠亚和</th>
                                <th colspan="5">1-5龙虎</th>
                            </tr>
                            </thead>
                            <tbody id="tbody">
                            </tbody>
                        </table>
                    </div>
                    <div class="shuoming qc">
                        <div class="shuomingleft" style="height: 315px; width: 1895px;">
                            <div class="tou">
                                <h3>参数说明</h3>
                            </div>
                            <div class="jieshi">
                                <p><b>遗漏数据：</b> 自上期开出到本期间隔的期数。</p>

                                <p><b>遗漏分层：</b> 将当前遗漏用浅蓝色柱状阴影标注。</p>

                                <p><b>出现总次数：</b> 统计期数内实际出现的次数。</p>

                                <p><b>平均遗漏值：</b> 统计期数内遗漏的平均值。计算公式：平均遗漏=每次遗漏期数之和/出现次数。</p>

                                <p><b>最大遗漏值：</b> 统计期数内遗漏的最大值。</p>

                                <p><b>最大连出值：</b> 统计期数内连续开出的最大值。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="xiajiao">
        快速购买 福彩3D
    </div>
    <div class="mb">
    </div>
</div>

<canvas id="canvas" width="2400px" height="630px" style="position: absolute; top: 137.8px; left: 0.800003px; z-index: -10;"></canvas>
<canvas id="canvas2" width="2400px" height="630px" style="position: absolute; top: 137.8px; left: 0.800003px; z-index: -10;"></canvas>

<script type="text/javascript" src="jquery.min.js"></script><!--jQuery库-->
<script src="global.js"></script><!--走势图功能函数库-->
<script src="layer.js"></script><!--模态层-->
<script src="point.js"></script><!--走势图-->
<script src="echarts.min.js"></script><!--K线图，柱状图-->

<script>
    // 闪烁
    var blinkColorArr = "#fa6200|#0f3f94".split("|");
    $(".blink").each(function() {
        var obj = $(this);
        setInterval(function() {
            var tmpColor = blinkColorArr[parseInt(Math.random() * blinkColorArr.length)];
            $(obj).css("color", tmpColor);
        },200);
    });
</script>
<script>
    var playGroupId="bj_10";
    var pageSize=30;
    $(function() {
        var date = new Date();
        var year=date.getFullYear();   //返回一个表示年份的 4 位数字
        var month=date.getMonth()+1;   //返回表示月份的数字。返回值是 0（一月） 到 11（十二月） 之间的一个整数
        var startT=null;
        var endT=null;

        //选择期数数据
        $(".search-right .qi a").click(function () {
            $(".search-right .qi.xuan").removeClass("xuan");    //方法从被选元素移除一个或多个类.
            $(this).parent().addClass("xuan");   //addClass向被选元素添加一个或多个类 //parent)_返回被选元素的直接父元素。
            var flag = $(this).html();   //html()返回或设置被选元素的内容
            if (flag == "近30期") {
                pageSize = 30;
                ajaxGetData(playGroupId, pageSize, null, null);
            } else if (flag == "近50期") {
                pageSize = 50;
                ajaxGetData(playGroupId, pageSize, null, null);
            } else if (flag == "近100期") {
                pageSize = 100;
                ajaxGetData(playGroupId, pageSize, null, null);
            } else if (flag == "近150期") {
                pageSize = 150;
                ajaxGetData(playGroupId, pageSize, null, null);
            } else if (flag == "近200期") {
                pageSize = 200;
                ajaxGetData(playGroupId, pageSize, null, null);
            } else if (flag == "今天") {
                pageSize = null;
                startT = 't0';
                ajaxGetData(playGroupId, pageSize, startT, endT);
            } else if (flag == "昨天") {
                pageSize = null;
                startT = 't1';
                ajaxGetData(playGroupId, pageSize, startT, endT);
            } else if (flag = "前天") {
                pageSize = null;
                startT = 't2';
                ajaxGetData(playGroupId, pageSize, startT, endT);
            }
        });
    });
    //loading
    function showLoading() {
        layer.load(2, {
            shade: [0.1,'#000'] //0.1透明度的白色背景
        })
    }
    function hideLoading() {
        layer.closeAll();
    }

    $(function() {
        parent.hideLoading();
    });

    $(function(){
        //悬停
        $(".czqh").hover(function(){
            $(".min").show()
        },function(){
            $(".min").hide()
        });

        //点击绘图工具
        $(".kuang1 .div").click(function(){
            $(".kuang1 .btn-box").show();
            $("#canvas,#canvas2").css("z-index","10000");
        });

        $(".btn-cos").click(function(){
            $(".kuang1 .btn-box").hide();
            $("#canvas,#canvas2").css("z-index","-10");
            clear_canvas()
        });

    });


    function clearHuatu() {
        $("#canvas,#canvas2").attr("height","0");
        $("#canvas,#canvas2").attr("width","0");
    }

    function initHuatu(id) {
        //canvas高
        $("#canvas,#canvas2").attr("height",$("#"+id+"").height()+"px");
        $("#canvas,#canvas2").attr("width",$("#"+id+"").width()+"px");
        $("#canvas,#canvas2").css("top",$("#"+id+"").offset().top+"px");
        $("#canvas,#canvas2").css("left",$("#"+id+"").offset().left+"px");
    }

    $(function () {
        var right_w = $(".shuoming .shuomingright").outerWidth();
        var right_h = $(".shuoming .shuomingright").outerHeight();
        var left_h = $(".shuoming .shuomingleft").outerHeight();
        if(right_h > left_h){
            $(".shuoming .shuomingleft").css("height",right_h);
        }
        var zong_w = $(".shuoming").outerWidth();
        var left_w = zong_w - right_w - 5;
        $(".shuoming .shuomingleft").css("width",left_w);
    });
</script>
<script src="back_data/bj_10_data.js"></script>
<script>
    $(function() {

        $(".btn-navs li").click(function(e) {
            $(".shuju").hide();
            $("#" + $(this).data("id")).show();
            $(this).attr("class", "fff").siblings().removeClass();
            if($(this).data("id") == 'shuju1' || $(this).data("id") == 'shuju2' || $(this).data("id") == 'shuju3') {
                initHuatu($(this).data("contentid"));
            } else {
                clearHuatu();
            }
        });

//        var type = '1';
//        if(typeof type == 'undefined' || type == '' || isNaN(type)) {
//            type = 1;
//        } else {
//            type = Tools.parseInt(type);
//        }
//        $("[data-id='shuju" + type + "']").trigger("click");
//        $(".search-right .qi a").eq(0).trigger("click");
        var type = window.location.href.split('tab=')[1] -1;

        if(type>2){
            type = 0;
        }
        $('.btn-navs li').eq(type).trigger('click');
        $('.search-right .qi a').eq(0).trigger('click');
    });

    //获取开奖数据
    function ajaxGetData(playGroupId, pageSize, startT, endT) {
        var data = {};
        data.pageIndex = 1;
        if(null != playGroupId) {
            data.playGroupId = playGroupId;
        }
        if(null != pageSize) {
            data.pageSize = pageSize;
        }else{
            data.pageSize='';
        }
        if(null != startT) {
            data.startT = startT;
        }
        if(null != endT) {
            data.endT = endT;
        }
//        ajaxRequest({
//            url: "./ajaxGetHistory?type="+playGroupId+"&&page="+data.pageSize+"&&date="+data.startT,
//            data: data,
//            beforeSend: function() {
//                parent.showLoading();
//            },
//            success: function(json) {
//                if(json.result != 1) {
//                     alert('暂无数据，请重新选择！');
//                    parent.hideLoading();
//                    return ;
//                }
//            }
//        });
//        var data = json.sscHistoryList;
        var data = back_data.sscHistoryList;
//                data.reverse();
        // 折线
        zhexian(data);
        // k线
        kxian(data);
        // 直方图
        zhifang(data);
        // 历史数据
        lssj(data);
        parent.hideLoading();

        $(".btn-navs li").each(function() {
            if($(this).hasClass("fff")) {
                initHuatu($(this).data("contentid"));
                return;
            }
        });
    }

    $(function() {
        $("#checkboxZhexian").change(function() {
            if($(this).is(":checked")) {
                $(".zhexian").show();
            } else {
                $(".zhexian").hide();
            }
        });

        $("#checkboxYlsj").change(function() {
            if($(this).is(":checked")) {
                $(".transparent").addClass("not-transparent");
            } else {
                $(".transparent").removeClass("not-transparent");
            }
        });

        $("#checkboxYlfc").change(function() {
            if($(this).is(":checked")) {
                $(".ylfc").addClass("ylfc-bg");
            } else {
                $(".ylfc").removeClass("ylfc-bg");
            }
        });
    });
</script>
<script>

    //历史数据
   function lssj(data) {
       var str = '';
       $.each(data, function(index, value) {
           str += '<tr>';
           str += '<td>' + value.number + '</td>'
           str += '<td>' + value.ktime + '</td>'
           str += '<td class="hide-icon-text">';
           var arr = value.openCode.split(",");
           for(var i = 0; i < arr.length; ++i) {
               str += '<span class="icon bj'+arr[i]+'">' + arr[i] + '</span>';
           }
           str += '</td>';
           str += '<td>'+Pk10_Auto(arr,1)+'</td>';
           str += '<td>'+Pk10_Auto(arr,2)+'</td>';
           str += '<td>'+Pk10_Auto(arr,3)+'</td>';
           str += '<td>'+Pk10_Auto(arr,4)+'</td>';
           str += '<td>'+Pk10_Auto(arr,5)+'</td>';
           str += '<td>'+Pk10_Auto(arr,6)+'</td>';
           str += '<td>'+Pk10_Auto(arr,7)+'</td>';
           str += '<td>'+Pk10_Auto(arr,8)+'</td>';
           str += '</tr>';
       });
       $("#shuju5 table tbody").html(str);
   }

    //织纺图
    function zhifang(data) {

        // 基于准备好的dom，初始化echarts实例
        var myChart2 = echarts.init(document.getElementById('main2'));
        // 指定图表的配置项和数据
        var subtext = "北京赛车pk拾";
        if(data.length > 0) {
            subtext += " 第" + data[0].number + '期 ~ ' + "第" + data[data.length - 1].number + '期';
        }
        var option = {
            title: {
                text: "北京赛车pk拾直方图",
                subtext: subtext,
                x: 'center'
            },
            dataZoom: {
                show: true,
                realtime: true,
                start: 0,
                end: 60
            },
            grid: {
                left: '1%',
                right: '2%',
                containLabel: true,
                y2: 120
            },
            tooltip: {
                show: true,
                trigger: 'axis',
                //show: true,   //default true
                showDelay: 0, //显示延时，添加显示延时可以避免频繁切换
                hideDelay: 50, //隐藏延时
                transitionDuration: 0, //动画变换时长
                backgroundColor: 'rgba(0,0,0,0.7)', //背景颜色（此时为默认色）
                borderRadius: 8, //边框圆角
                padding: 10, // [5, 10, 15, 20] 内边距
                position: function(p) {
                    // 位置回调
                    // console.log && console.log(p);
                    return [p[0] + 10, p[1] - 10];
                },
                formatter: function(params, ticket, callback) {
                    var res = "基本号码" + ' : ' + params[0].name;
                    for(var i = 0, l = params.length; i < l; i++) {
                        res += '<br/>' + params[i].seriesName + ' : ' + params[i].value; //鼠标悬浮显示的字符串内容
                    }
                    return res;
                }
            },
            xAxis: {
                type: 'category',
                axisTick: {
                    alignWithLabel: true
                },
                data: []
            },
            yAxis: [{
                type: 'value',
                splitNumber: 10,
                triggerEvent: true,
            }],
            series: [{
                name: '出现次数',
                type: 'bar',
                data: [],
                legendHoverLink: true,
                label: {
                    normal: {
                        show: true,
                        position: 'top',
                        textStyle: {
                            color: '#000'
                        }
                    }
                },
                markPoint: {
                    symbol: 'pin',
                    symbolSize: 50,
                    silent: true,
                    animation: true,
                },
                barWidth: '27px',
                barGap: '30%',
                //            barCategoryGap:'30%',
                markArea: {
                    //              silent:true
                },
                itemStyle: {
                    normal: {
                        color: ['#6DB8FF']
                    }
                }
            }]
        };
        var yData = [];
        for(var i = 1; i <= 10; ++i) {
            yData[i - 1] = 0;
            option.xAxis.data.push(i);
        }

        $.each(data, function(index, value) {
            var openCode = value.openCode;
            var arr = openCode.split(",");

            for(var i = 0; i < arr.length; ++i) {
                //                console.log(Tools.parseInt(arr[i]));
                yData[Tools.parseInt(arr[i] - 1)]++;
            }
        });

        option.series[0].data = yData;

        // 使用刚指定的配置项和数据显示图表。
        myChart2.setOption(option);
    }

    //K线图
    function kxian(data) {
        // 基于准备好的dom，初始化echarts实例
        var myChart1 = echarts.init(document.getElementById('main1'));

        // 指定图表的配置项和数据
        var subtext = "北京赛车pk拾";
        if(data.length > 0) {
            subtext += " 第" + data[0].number + '期 ~ ' + "第" + data[data.length - 1].number + '期';
        }
        var option = {
            title: {
                text: "北京赛车pk拾K线图",
                subtext: subtext,
                x: 'center'
            },
            xAxis: [{
                axisLabel: {
                    rotate: -60,
                },
                type: 'category',
                boundaryGap: false,
                data: []
            }],
            tooltip: {
                trigger: 'axis',
                formatter: function(params) {
                    var openCode = params[0].data.openCode;

                    var res = '';
                    res += '数值：' + Tools.parseInt(openCode.split(",")[0]);
                    res += '<br/>期数：' + params[0].name;
                    res += '<br/><font class="red">奖号：' + openCode + "</font>";
                    return res;
                }
            },
            yAxis: [{
                type: 'value'
            }],
            grid: {
                left: '1%',
                right: '2%',
                bottom: '8%',
                containLabel: true
            },
            series: [{
                symbol: 'circle', //图标形状
                symbolSize: 6, //图标尺寸
                type: 'line',
                stack: '',
                itemStyle: {
                    normal: {
                        color: "#6DB8FF",
                        lineStyle: {
                            color: '#6DB8FF'
                        }
                    }
                },
                label: {
                    normal: {
                        show: true,
                        position: 'top',
                        textStyle: {
                            color: '#000'
                        }
                    }
                },
                areaStyle: {
                    normal: {
                        textStyle: {
                            fontSize: 20,
                            color: 'red'
                        }
                    }
                },
                data: [],
            }]
        };
        $.each(data, function(index, value) {
            option.xAxis[0].data.push(value.number);
            option.series[0].data.push({
                value: Tools.parseInt(value.openCode.split(",")[0]),
                openCode: value.openCode
            });
        });

        myChart1.setOption(option);
    }

    //走势图
    function zhexian(data) {
        var str = '';
        for(var i = 0; i < data.length; i++) {
            // qihao
            str += '<div class="cl-30 clean">';
            str += '<div class="left cl-31 number">' + data[i].number + '</div>';
            str += '<div class="left cl-32 openCode" style="width:200px">' + data[i].openCode + '</div>';
            var kjData = data[i].openCode.split(",");

            for(var j = 0; j < kjData.length; ++j) {
                var haoma = kjData[j];
                var bc1 = 0;
                var Left = 0;

                str += '<div class="cl-35 cl-36">';
                if(i < data.length - 1) {
                    bc1 = (data[i].openCode.split(",")[j]) - (data[i + 1].openCode.split(",")[j]);
                }

                if(bc1 > 0) {
                    Left = (bc1) * (-20);
                } else if(bc1 < 0) {
                    bc1 = -bc1;
                }
                for(var k = 0; k < 10; ++k) {
                    str += '<var class="' + (j % 2 == 0 ? 'bg-1' : 'bg-2') + ' i_' + j + "_" + k + '">';
                    if(k == haoma - 1) {
                        str += '<i data-num="' + k + '" class="' + (j % 2 == 0 ? 'bg-4' : 'bg-5') + '">';
                        str += k + 1;
                        str += '<canvas class="zhexian" id="canvas' + i + j + '" width="' + (bc1 + 1) * 20 + '" height="32px" style="z-index: 10; left:' + Left + 'px; display: none;"></canvas>';
                        str += '</i>';
                    } else {
                        str += '<i></i>';
                    }
                    str += '</var>';
                }

                str += '</div>';
            }
            str += '</div>';
        }
        $("#zhexianData").html(str);

        for(var i = 0; i < data.length - 1; ++i) {
            for(var j = 0; j < 10; ++j) {
                bc1 = Tools.parseInt(data[i].openCode.split(',')[j]) - Tools.parseInt(data[i + 1].openCode.split(',')[j]);
                var Left = 0;
                if(bc1 < 0) {
                    bc1 = -bc1;
                    Left = (bc1) * (-20);
                }
                var canvas = document.getElementById("canvas" + i + j);
                var context = canvas.getContext("2d");
                var bc1 = (data[i].openCode.split(',')[j]) - data[i + 1].openCode.split(',')[j];
                if(bc1 < 0) {
                    context.moveTo(17, 13);
                    context.lineTo(canvas.width - 13, canvas.height - 8);
                } else if(bc1 > 0) {
                    context.moveTo(canvas.width - 13, 13);
                    context.lineTo(8, canvas.height - 5);
                } else {
                    context.moveTo(10, 12);
                    context.lineTo(10, 30);
                }
                if(j % 2 != 0) {
                    context.strokeStyle = "#cc0000";
                }
                context.stroke();
            }
        }
        if($("#checkboxZhexian").is(":checked")) {
            $(".zhexian").show();
        } else {
            $(".zhexian").hide();
        }

        // 遗漏
        renderYilou(data);

        if($("#checkboxYlsj").is(":checked")) {
            $(".transparent").addClass("not-transparent");
        } else {
            $(".transparent").removeClass("not-transparent");
        }
    }

    // 遗漏统计
    function renderYilou(data) {
        // 遗漏统计
        var yilou = [];
        for(var i = 0; i < 10; ++i) {
            yilou[i] = [];
            for(var j = 0; j < 10; ++j) {
                yilou[i][j] = {
                    cxCs: 0, // 出现次数
                    maxLcCs: 0, // 最大连出次数
                    ylArr: [] // 遗漏次数
                };
            }
        }

        for(var i = 0; i < 10; ++i) {
            for(var j = 0; j < 10; ++j) {
                var obj = yilou[i][j];

                var tmpYlCs = 0; // 连续遗漏次数
                var tmpLcCs = 0; // 连出次数
                $.each(data, function(index, value) {
                    var openCodeArr = value.openCode.split(",");
                    var tmpValue = Tools.parseInt(openCodeArr[i]);

                    if(tmpValue != j + 1) { // 遗漏
                        tmpYlCs++;
                        if(tmpLcCs > obj.maxLcCs) {
                            obj.maxLcCs = tmpLcCs;
                        }
                        tmpLcCs = 0;
                    } else { // 中
                        obj.cxCs++;
                        tmpLcCs++;

                        obj.ylArr.push(tmpYlCs);
                        tmpYlCs = 0;
                    }
                });
            }
        }

        var str1 = '',
                str2 = '',
                str3 = '',
                str4 = '';
        for(var i = 0; i < 10; ++i) {
            for(var j = 0; j < 10; ++j) {
                var obj = yilou[i][j];
                // 出现次数
                str1 += '<var><i>' + obj.cxCs + '</i></var>';

                // 平均遗漏值&最大遗漏值
                var maxYl = 0;
                if(obj.ylArr.length > 0) {
                    var sumYl = 0;
                    $.each(obj.ylArr, function(index, value) {
                        sumYl += value;
                        maxYl = value > maxYl ? value : maxYl;
                    });
                    str2 += '<var><i>' + Math.floor(sumYl / obj.ylArr.length) + '</i></var>';
                    str3 += '<var><i>' + maxYl + '</i></var>';
                } else {
                    str2 += '<var><i>0</i></var>';
                    str3 += '<var><i>0</i></var>';
                }

                // 最大连出值
                str4 += '<var><i>' + obj.maxLcCs + '</i></var>';
            }
        }

        $("#cxzcs").html(str1);
        $("#pjylz").html(str2);
        $("#zdylz").html(str3);
        $("#zdlcz").html(str4);

        var str5 = '';
        for(var i = 0; i < 3; ++i) {
            for(var j = 0; j < 10; ++j) {
                str5 += '<tr>';
                if(j == 0) {
                    if(i == 0) {
                        str5 += '<td rowspan="10">百位</td>';
                    } else if(i == 1) {
                        str5 += '<td rowspan="10">十位</td>';
                    } else if(i == 2) {
                        str5 += '<td rowspan="10">个位</td>';
                    }
                }

                str5 += '<td>' + (j + 1) + '</td>';

                var obj = yilou[i][j];
                // 出现次数
                str5 += '<td>' + obj.cxCs + '</td>';

                // 平均遗漏值&最大遗漏值
                var maxYl = 0;
                if(obj.ylArr.length > 0) {
                    var sumYl = 0;
                    $.each(obj.ylArr, function(index, value) {
                        sumYl += value;
                        maxYl = value > maxYl ? value : maxYl;
                    });
                    str5 += '<td>' + Math.floor(sumYl / obj.ylArr.length) + '</td>';
                    str5 += '<td>' + maxYl + '</td>';
                } else {
                    str5 += '<td>0</td>';
                    str5 += '<td>0</td>';
                }

                // 最大连出值
                str5 += '<td>' + obj.maxLcCs + '</td>';
                str5 += '</tr>';
            }
        }
        $("#shuju4 table tbody").html(str5);

        // 遗漏数据
        for(var i = 0; i < 10; ++i) {
            for(var j = 0; j < 10; ++j) {
                var tmpCount = 0;
                var obj = $(".i_" + i + "_" + j + " i");
                $(obj).each(function() {
                    if(typeof $(this).data('num') == 'undefined') {
                        tmpCount = tmpCount + 1;
                        $(this).html(tmpCount).addClass("transparent");
                    } else {
                        tmpCount = 0;
                    }
                });
            }
        }

        // 遗漏分层
        for(var i = 0; i < 10; ++i) {
            for(var j = 0; j < 10; ++j) {
                var tmpCount = 0;
                var obj = $(".i_" + i + "_" + j + " i");
                for(var k = obj.length - 1; k >= 0; --k) {
                    var tmpObj = $(obj).eq(k);
                    if(typeof $(tmpObj).data('num') == 'undefined') {
                        $(tmpObj).parent().addClass("ylfc")
                    } else {
                        break;
                    }
                }
            }
        }
    }
</script>

<div class="layui-layer-move"></div></body>
</html>
