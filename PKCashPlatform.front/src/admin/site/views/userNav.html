<!-- 菜单账号 -->
<div id="content">
    <section widget-grid id="widget-grid">
        <div class="row">
                    <article class="col-sm-12">
                        <div jarvis-widget  data-widget-color="darken" data-widget-editbutton="false">
                            <header>
                                <span class="widget-icon"> <i class="fa fa-table"></i> </span>
                                <h2>客户后台导航管理</h2>
                            </header>
                            <div>
                                <div class="widget-body tab-content">
                                    <!--头部筛选查找以及添加-->
                                    <div class="widget-body-toolbar">
                                        <div class="row form-horizontal">

                                            <div class="col-sm-offset-11">
                                                <div class="input-group">
                                                    <button type="submit" class="btn btn-primary" data-toggle="modal" data-target="#myModal1Dl" ng-click="add()">
                                                        <i class="fa fa-plus"></i> 添加栏目
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <form class="form-inline" method="post">
                                        <div class="row menu_table">
                                            <ul class="col-md-12 menu_th">
                                                <li class="col-md-1">ID</li>
                                                <li class="col-md-2">权限名</li>
                                                <li class="col-md-2">权限代号</li>
                                                <li class="col-md-3">权限路径</li>
                                                <li class="col-md-1">状态</li>
                                                <li class="col-md-3">功能</li>
                                            </ul>
                                            <ul class="row menu_tbody" ng-repeat="item in listdl">
                                                <li class="col-md-1">
                                                    <i class="fa fa-lg fa-plus-circle" ng-click="showFace($index,$event)"></i>{{item.sort}}
                                                </li>
                                                <li class="col-md-2">
                                                    {{item.menu_name}}
                                                </li>
                                                <li class="col-md-2">
                                                    {{item.route}}
                                                </li>
                                                <li class="col-md-3">
                                                    {{item.icon}}
                                                </li>
                                                <li class="col-md-1 text-red" ng-bind="item.status==1?'启用':'禁用'">
                                                    <!--{{item.status}}-->
                                                    <!--ng-click="open(item.level_id,item.is_self_rebate)"-->
                                                </li>
                                                <li class="hidden m1_idd">{{item.id}}</li>
                                                <li class="col-md-3">
                                                    <button class="btn btn-default btn-xs" data-toggle="modal" data-target="#myModal2" ng-click="addmd1($index)">添加下级</button>
                                                    <button class="btn btn-default btn-xs" data-toggle="modal" data-target="#myModal3" ng-click="modify_d1($index)">修改</button>
                                                    <button class="btn btn-default btn-xs" ng-click="paySetting(item.id,item.status)" ng-bind="item.status==1?'禁用':'启用'"></button>
                                                    <button class="btn btn-default btn-xs" ng-click="delete(item.id)" >删除</button>
                                                </li>
                                                <ul class="col-md-12 secondul" ng-repeat="list1 in item.Children" style="background-color: #f7f7f7;">
                                                    <li class="col-md-1 secondli">
                                                        <i ng-show="list1.Children.length!==0" class="fa fa-lg fa-plus-circle" ng-click="showFace($index,$event)"></i>{{list1.sort}}
                                                    </li>
                                                    <li class="col-md-2">
                                                        {{list1.menu_name}}
                                                    </li>
                                                    <li class="col-md-2">
                                                        {{list1.route}}
                                                    </li>
                                                    <li class="col-md-3">
                                                        {{list1.icon}}
                                                    </li>
                                                    <li class="col-md-1 text-red" ng-bind="list1.status==1?'启用':'禁用'">
                                                    </li>
                                                    <li class="hidden">{{list1.id}}</li>
                                                    <li class="col-md-3">
                                                        <button class="btn btn-default btn-xs" data-toggle="modal" data-target="#myModal2" ng-click="addmd2($event)">添加下级</button>
                                                        <button class="btn btn-default btn-xs" data-toggle="modal" data-target="#myModal3" ng-click="modify_d2($event)">修改</button>
                                                        <button class="btn btn-default btn-xs" ng-click="paySetting(list1.id,list1.status)"  ng-bind="list1.status==1?'禁用':'启用'"></button>
                                                        <button class="btn btn-default btn-xs" ng-click="delete(list1.id)" >删除</button>
                                                    </li>
                                                    <ul class="col-md-12 thirdul" ng-repeat="data in list1.Children" style="background-color: #e3e2e1;">
                                                        <li class="col-md-1 thirdli">
                                                            {{data.sort}}
                                                        </li>
                                                        <li class="col-md-2">
                                                            {{data.menu_name}}
                                                        </li>
                                                        <li class="col-md-2">
                                                            {{data.route}}
                                                        </li>
                                                        <li class="col-md-3">
                                                            {{data.icon}}
                                                        </li>
                                                        <li class="col-md-1 text-red" ng-bind="data.status==1?'启用':'禁用'">
                                                        </li>
                                                        <li class="hidden m3_idd">{{data.id}}</li>
                                                        <li class="col-md-3">
                                                            <!--<button class="btn btn-default" data-toggle="modal" data-target="#myModal2" >添加下级</button>-->
                                                            <button class="btn btn-default btn-xs" data-toggle="modal" data-target="#myModal3" ng-click="modify_d3($event)">修改</button>
                                                            <button class="btn btn-default btn-xs" ng-click="paySetting(data.id,data.status)"  ng-bind="data.status==1?'禁用':'启用'"></button>
                                                            <button class="btn btn-default btn-xs" ng-click="delete(data.id)" >删除</button>
                                                        </li>
                                                    </ul>
                                                </ul>
                                            </ul>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </article>
                </div>
    </section>
    <span style="display: none" class="zz">{{lang['accounts']}}</span>
    <!--<input type="text" value="{{lang['accounts']}}" class="zz">-->

    <!--新增平台菜单-->
    <div class="modal fade" id="myModal1" tabindex="-1" role="dialog" aria-labelledby="addAccount" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title" id="addAccount">新增平台菜单</h4>
                </div>
                <div class="modal-body">
                    <form  enctype="multipart/form-data" class="smart-form client-form ng-pristine ng-valid" novalidate="novalidate" method = 'POST' >
                        <fieldset>
                            <section class="input-item">
                                <div class="col-md-3 input-label">菜单名称</div>
                                <label class="col-md-7 input">
                                    <input type="text" name="account" ng-model="menu_name">
                                    <b class="tooltip tooltip-top-right">
                                        账号长度5-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                            <section class="input-item">
                                <label class="col-md-3 input-label">前端路由</label>
                                <label class="col-md-7 input">
                                    <input type="text" ng-model="route">
                                    <b class="tooltip tooltip-top-right">
                                        密码长度6-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                            <section class="input-item">
                                <label class="col-md-3 input-label">语言国际化Key</label>
                                <label class="col-md-7 input">
                                    <input type="text" ng-model="add_language_key">
                                    <b class="tooltip tooltip-top-right">
                                        密码长度6-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                            <section class="input-item">
                                <label class="col-md-3 input-label">排序</label>
                                <label class="col-md-7 input">
                                    <input type="text" name="account" ng-model="sort">
                                    <b class="tooltip tooltip-top-right">
                                        密码长度6-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                            <section class="input-item">
                                <label class="col-md-3 input-label">上传icon</label>
                                <label class="col-md-7 input">
                                    <input type="text" ng-model="icon">
                                    <b class="tooltip tooltip-top-right">
                                        账号长度5-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                        </fieldset>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">
                        {{lang['Cancel']}}
                    </button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="addMenu()">
                        {{lang['Confirm']}}
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--新增代理菜单-->
    <div class="modal fade" id="myModal1Dl" tabindex="-1" role="dialog" aria-labelledby="addAccounts" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title" id="addAccounts">新增代理菜单</h4>
                </div>
                <div class="modal-body">
                    <form  enctype="multipart/form-data" class="smart-form client-form ng-pristine ng-valid" novalidate="novalidate" method = 'POST' >
                        <fieldset>
                            <section class="input-item">
                                <div class="col-md-3 input-label">菜单名称</div>
                                <label class="col-md-7 input">
                                    <input type="text" name="account" ng-model="menu_name">
                                    <b class="tooltip tooltip-top-right">
                                        账号长度5-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                            <section class="input-item">
                                <label class="col-md-3 input-label">前端路由</label>
                                <label class="col-md-7 input">
                                    <input type="text" ng-model="route">
                                    <b class="tooltip tooltip-top-right">
                                        密码长度6-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                            <section class="input-item">
                                <label class="col-md-3 input-label">语言国际化Key</label>
                                <label class="col-md-7 input">
                                    <input type="text" ng-model="add_language_key">
                                    <b class="tooltip tooltip-top-right">
                                        密码长度6-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                            <section class="input-item">
                                <label class="col-md-3 input-label">排序</label>
                                <label class="col-md-7 input">
                                    <input type="text" name="account" ng-model="sort">
                                    <b class="tooltip tooltip-top-right">
                                        密码长度6-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                            <section class="input-item">
                                <label class="col-md-3 input-label">上传icon</label>
                                <label class="col-md-7 input">
                                    <input type="text" ng-model="icon">
                                    <b class="tooltip tooltip-top-right">
                                        账号长度5-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                        </fieldset>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">
                        {{lang['Cancel']}}
                    </button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="addMenuDl()">
                        {{lang['Confirm']}}
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--添加下级-->
    <div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title">添加下级</h4>

                </div>
                <div class="modal-body">
                    <form  enctype="multipart/form-data" class="smart-form client-form ng-pristine ng-valid" novalidate="novalidate" method = 'POST' >
                        <fieldset>
                            <section class="input-item">
                                <label class="col-md-3 input-label">菜单名称</label>
                                <label class="col-md-7 input">
                                    <input type="text" name="account" ng-model="addname">
                                    <b class="tooltip tooltip-top-right">
                                        密码长度6-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                            <section class="input-item">
                                <label class="col-md-3 input-label">前端路由</label>
                                <label class="col-md-7 input">
                                    <input type="text" name="account" ng-model="addroute">
                                    <b class="tooltip tooltip-top-right">
                                        密码长度6-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                            <section class="input-item">
                                <label class="col-md-3 input-label">所属层级</label>
                                <label class="col-md-7 input">
                                    <input type="text" name="account" ng-model="add_name" value="add_id" readonly="readonly">

                                </label>
                            </section>
                            <section class="input-item">
                                <label class="col-md-3 input-label">语言国际化Key</label>
                                <label class="col-md-7 input">
                                    <input type="text" ng-model="addF_language_key">
                                    <b class="tooltip tooltip-top-right">
                                        密码长度6-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                            <section class="input-item hidden">
                                <label class="col-md-3 input-label">平台/代理</label>
                                <label class="col-md-7 input">
                                    <div class="form-group">
                                        <input type="text" ng-model="addF_type">
                                    </div>
                                </label>
                            </section>
                            <section class="input-item">
                                <label class="col-md-3 input-label">排序</label>
                                <label class="col-md-7 input">
                                    <input type="text" name="account" ng-model="addsort">
                                    <b class="tooltip tooltip-top-right">
                                        账号长度5-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                            <section class="input-item">
                                <label class="col-md-3 input-label">icon</label>
                                <label class="col-md-7 input">
                                    <input type="text" name="account" ng-model="addicon">
                                    <b class="tooltip tooltip-top-right">
                                        密码长度6-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                        </fieldset>
                    </form>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">
                            {{lang['Cancel']}}
                        </button>
                        <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="add_M()">
                            {{lang['Confirm']}}
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--平台修改-->
    <div class="modal fade" id="myModal4" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title">平台菜单修改</h4>

                </div>
                <div class="modal-body">
                    <form  enctype="multipart/form-data" class="smart-form client-form ng-pristine ng-valid" novalidate="novalidate" method = 'POST' >
                        <fieldset>
                            <section class="input-item">
                                <label class="col-md-3 input-label">菜单名称</label>
                                <label class="col-md-7 input">
                                    <input type="text" name="account" ng-model="first_data.menu_name">
                                    <b class="tooltip tooltip-top-right">
                                        密码长度6-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                            <section class="input-item">
                                <label class="col-md-3 input-label">前端路由</label>
                                <label class="col-md-7 input">
                                    <input type="text" name="account" ng-model="first_data.route">
                                    <b class="tooltip tooltip-top-right">
                                        密码长度6-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                            <section class="input-item">
                                <label class="col-md-3 input-label">语言国际化Key</label>
                                <label class="col-md-7 input">
                                    <input type="text" ng-model="first_data.LanguageKey">
                                    <b class="tooltip tooltip-top-right">
                                        密码长度6-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                            <section class="input-item">
                                <label class="col-md-3 input-label">平台/代理</label>
                                <label class="col-md-7 input">
                                    <div class="form-group">
                                        <input type="text" ng-model="first_data.Type">
                                    </div>
                                </label>
                            </section>
                            <section class="input-item" ng-show="mod_show>=2">
                                <label class="col-md-3 input-label">上级菜单</label>
                                <label class="col-md-7 input">
                                    <div class="form-group searchselect">
                                        <select class="form-control" ng-model="menu_select_2" ng-change="selectM()">
                                            <option value="">请选择</option>
                                            <option ng-value="select.id" ng-repeat="select in select_1">{{select.menu_name}}</option>
                                        </select>
                                    </div>
                                </label>
                            </section>
                            <section class="input-item">
                                <label class="col-md-3 input-label">排序</label>
                                <label class="col-md-7 input">
                                    <input type="text" name="account" ng-model="first_data.sort">
                                    <b class="tooltip tooltip-top-right">
                                        账号长度5-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                            <section class="input-item" ng-show="mod_show!==3">
                                <label class="col-md-3 input-label">icon</label>
                                <label class="col-md-7 input">
                                    <input type="text" name="account" ng-model="first_data.icon">
                                    <b class="tooltip tooltip-top-right">
                                        密码长度6-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                        </fieldset>
                    </form>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">
                            {{lang['Cancel']}}
                        </button>
                        <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="submitpt()">
                            {{lang['Confirm']}}
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--代理修改-->
    <div class="modal fade" id="myModal3" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                        &times;
                    </button>
                    <h4 class="modal-title">代理菜单修改</h4>

                </div>
                <div class="modal-body">
                    <form  enctype="multipart/form-data" class="smart-form client-form ng-pristine ng-valid" novalidate="novalidate" method = 'POST' >
                        <fieldset>
                            <section class="input-item">
                                <label class="col-md-3 input-label">菜单名称</label>
                                <label class="col-md-7 input">
                                    <input type="text" name="account" ng-model="first_data.menu_name">
                                    <b class="tooltip tooltip-top-right">
                                        密码长度6-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                            <section class="input-item">
                                <label class="col-md-3 input-label">前端路由</label>
                                <label class="col-md-7 input">
                                    <input type="text" name="account" ng-model="first_data.route">
                                    <b class="tooltip tooltip-top-right">
                                        密码长度6-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                            <section class="input-item">
                                <label class="col-md-3 input-label">语言国际化Key</label>
                                <label class="col-md-7 input">
                                    <input type="text" ng-model="first_data.LanguageKey">
                                    <b class="tooltip tooltip-top-right">
                                        密码长度6-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                            <section class="input-item">
                                <label class="col-md-3 input-label">平台/代理</label>
                                <label class="col-md-7 input">
                                    <div class="form-group">
                                        <input type="text" ng-model="first_data.Type">
                                    </div>
                                </label>
                            </section>
                            <section class="input-item" ng-show="mod_show>=2">
                                <label class="col-md-3 input-label">上级菜单</label>
                                <label class="col-md-7 input">
                                    <div class="form-group searchselect">
                                        <select class="form-control" ng-model="menu_select_1" ng-change="selectM()">
                                            <option value="">请选择</option>
                                            <option ng-value="select.id" ng-repeat="select in select_1">{{select.menu_name}}</option>
                                        </select>
                                    </div>
                                </label>
                            </section>
                            <!--<section class="input-item" ng-show="mod_show==3">-->
                            <!--<label class="col-md-3 input-label">下级菜单</label>-->
                            <!--<label class="col-md-7 input">-->
                            <!--<div class="form-group searchselect">-->
                            <!--<select class="form-control" ng-model="menu_select_2">-->
                            <!--<option value="">请选择</option>-->
                            <!--<option ng-value="select2.id" ng-repeat="select2 in select_2">{{select2.menu_name}}</option>-->
                            <!--</select>-->
                            <!--</div>-->
                            <!--</label>-->
                            <!--</section>-->
                            <section class="input-item">
                                <label class="col-md-3 input-label">排序</label>
                                <label class="col-md-7 input">
                                    <input type="text" name="account" ng-model="first_data.sort">
                                    <b class="tooltip tooltip-top-right">
                                        账号长度5-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                            <section class="input-item" ng-show="mod_show!==3">
                                <label class="col-md-3 input-label">icon</label>
                                <label class="col-md-7 input">
                                    <input type="text" name="account" ng-model="first_data.icon">
                                    <b class="tooltip tooltip-top-right">
                                        密码长度6-12位，只能字母和数字组合</b>
                                </label>
                            </section>
                        </fieldset>
                    </form>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">
                            {{lang['Cancel']}}
                        </button>
                        <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="submit()">
                            {{lang['Confirm']}}
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>